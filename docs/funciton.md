# KeywordAssistant 插件功能说明文档

---

## 一、功能模块概览

KeywordAssistant 插件包含三个核心模块，每个模块包含若干功能点如下：

| 模块   | 功能点                                       |
| ---- | ----------------------------------------- |
| 外链收集 | Ahrefs 页面抓取、普通页面抓取、CSV 导入、DoFollow判别、本地存储 |
| 外链管理 | 外链标记、平台识别、筛选搜索、批量导出、任务状态跟踪                |
| 外链提交 | 自动识别入口、LLM 评论生成、表单填写与提交、结果记录与回溯           |

---

## 二、模块功能详情

### 2.1 外链收集模块

#### F1 - Ahrefs 页面外链提取

* 通过 DOM 结构判断当前为 Ahrefs 外链报告页
* 提取外链、锚文本、目标 URL、是否 nofollow 等

#### F2 - 任意网页外链提取

* 抓取所有 `<a href>` 外链，过滤以下情况：

  * 非 http(s)
  * 同域链接（本域）
  * 重复链接、空 href、锚点 `#`

#### F3 - CSV 外链导入

* 用户上传外链数据文件
* 插件执行字段映射确认和数据清洗逻辑

  * 去除空白、重复、格式错误项

#### F4 - DoFollow / NoFollow 判定

* 根据 rel 属性判断并标记链接类型
* 支持前端视图中使用图标或颜色提示

#### F5 - 数据结构与存储

* 以本地 JSON 存储外链结构
* 字段包括：source\_url、anchor、nofollow、type、platform、status、tags、industry

---

### 2.2 外链管理模块

#### F6 - 外链类型与平台标注

* 用户可选择“博客 / 论坛 / 目录 / 付费”等类型
* 插件自动尝试识别目标站点平台（如 WordPress、Disqus）
* 平台识别逻辑：通过页面 DOM 特征规则匹配

#### F7 - 筛选与搜索

* 支持多维度筛选（类型、DoFollow 状态、平台、行业标签、处理状态）
* 支持关键词模糊搜索（按 URL、锚文本）

#### F8 - 状态管理与日志追踪

* 每条外链支持状态流转：未处理 → 提交中 → 成功 / 失败 / 忽略
* 每次提交尝试记录日志信息，包含失败原因字段

#### F9 - 数据导出

* 导出格式支持 JSON、CSV
* 支持筛选后导出、全量导出

---

### 2.3 外链提交模块

#### F10 - 站点信息配置

* 用户填写或管理自己的站点资料：名称、主域、行业、标签
* 支持多站点切换并分别提交

#### F11 - 提交入口识别

* 插件识别目标页面是否存在评论区 / 联系表单 / 投稿页
* 初期支持：WordPress 评论 / Disqus / 常规表单
* 若识别错误，用户可手动标注并记录规则

#### F12 - LLM 评论生成

* 提取当前页面标题 / 主体内容段落
* 调用大语言模型生成评论内容
* 支持风格选项（技术型 / 俏皮型 / 中立型）

#### F13 - 自动提交执行

* 自动定位输入框，填入评论或表单字段
* 自动点击提交按钮
* 若失败，记录失败原因，如：

  * 提交按钮无法点击
  * 表单字段错误
  * 页面跳转失败

#### F14 - 状态与历史记录

* 成功提交：状态置为“成功”，记录时间戳
* 提交失败：状态置为“失败”，并附失败详情字段
* 所有历史可在主界面追踪

---